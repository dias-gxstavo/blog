---
title: Homelab com CasaOS e Raspberry Pi
date: 2025-12-28
tags:
  - raspberry
  - linux
  - homelab
draft: false
summary: Explicando sobre meu servidor caseiro com CasaOS no Raspberry Pi
---
Recentemente pude tirar um tempo para configurar meu servidor caseiro com calma e escolhi utilizar o [CasaOS](https://casaos.zimaspace.com/) para isso. O CasaOS √© um software **open-source** que oferece uma interface gr√°fica bem intuitiva para realizarmos as configura√ß√µes do nosso servidor pessoal, o que reduz a necessidade do uso massivo de **CLI**.

![casaos](https://nextcloud.gudilab.online/s/GxfkMye7353imkw/download)

## Aplica√ß√µes via Docker

Uma das maiores vantagens do CasaOS √© que esse software √© totalmente voltado ao ecossistema do Docker. Ao acessar a AppStore, podemos baixar milhares de servi√ßos, tamb√©m chamados de **Apps**, que nada mais s√£o que imagens das suas respectivas aplica√ß√µes. 

![appstore](https://nextcloud.gudilab.online/s/ssNxQak8KdTLFTt/download)

## Nextcloud

O NextCloud foi um achado para mim no CasaOS. Com ele, pude criar um backup de fotos pessoais dispon√≠vel para todos aqui em casa, pois conta com aplicativo em Android e IOS e tem uma **UI** bem amig√°vel tamb√©m.

Al√©m disso, uso o Nextcloud como Storage para as fotos que utilizo aqui no blog. üòÄ

![nextcloud](https://nextcloud.gudilab.online/s/XdBq2BAJzMDJAFc/download)

## Utilizando o Nextcloud como Storage

Anteriormente, eu utilizava o Supabase Storage como solu√ß√£o para enviar imagens sem ter que baix√°-las, por√©m eu cai na armadilha dos servi√ßos "pseudogratuitos". Ap√≥s um tempo, seu bucket sofre pausas constantes at√© que voc√™ fa√ßa o upgrade do seu plano.  Consequentemente, seus arquivos est√°ticos param de carregar.

Sabendo disso eu parti pra seguinte solu√ß√£o:

Para permitir meu servi√ßo de nuvem pessoal se tornar um storage como o S3, precisei de um dom√≠nio publico e de um **Tunnel** da [Cloudflare](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/). Seguindo a documenta√ß√£o da Cloudflare fica bem f√°cil de criar.

Depois de adquirir um dom√≠nio e criar um tunnel, bastava vincular o token do console da Cloudflare com o app **Cloudflared** do CasaOS e realizar o **port forwading** dos servi√ßos atrav√©s do tunelamento. Estamos quase l√°! 

Para finalizar, foi necess√°rio editar o array de `trusted_domains` no arquivo **config.php** do Nextcloud adicionando o endere√ßo p√∫blico que foi configurado anteriormente. Dessa forma, consigo disponibilizar a URL das imagens que armazeno nas minhas pastas.
**DOCS:** [HowTo: Add a new trusted domain](https://help.nextcloud.com/t/howto-add-a-new-trusted-domain/26)

Pronto! Basta passar o path **'/download'** no final da URL para termos as imagens.
A URL das imagens fica assim: `https://seudominio.publico/s/{id}/download`